{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% from 'include/_formhelpers.html' import render_field %}

{% block title %}写博客{% endblock %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='select2-4.0.4/dist/css/select2.min.css') }}">
{% endblock %}

{% block page_content %}
	<div class="container">
		<!-- 博客提交表单 -->
		<!-- 检测当前用户是否有写权限 -->
		{% if current_user.can(Permission.WRITE_ARTICLES) %}
		<div class="row">
			<!-- 通过列偏移居中 -->
			<div class="col-md-10 col-md-offset-1">
				<form action="{{ url_for('.write_post') }}" method="post">
					{{ form.csfr_token }}
					{{ render_field(form.title, class="form-control") }}
					{{ render_field(form.summary, class="form-control") }}
					<div class="form-group">
						{{ form.category.label(style="margin-right: 10px;") }}
						{{ form.category(class="form-control", style="width: 45%;") }}
					</div>
					<div class="form-group">
						{{ form.tag.label(style="margin-right: 10px;") }}
						{{ form.tag(class="form-control", style="width: 45%;") }}
					</div>
					{{ render_field(form.ckhtml, class="form-control") }}
					{{ form.submit(class="btn btn-primary",value="发表") }}
				</form>
				<!--{{ wtf.quick_form(form) }}-->
			</div>
		</div>
		{% endif %}
	</div>
{% endblock %}


{% block scripts %}
{{ super() }}
<script type="text/javascript" src="{{ url_for('static', filename='ckeditor-dev/ckeditor.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/ck.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='select2-4.0.4/dist/js/select2.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='select2-4.0.4/dist/js/i18n/zh-CN.js') }}"></script>
<script type="text/javascript">
	/*文档就绪事件*/
	$(document).ready(function(){
		var data = [{ id: 0, text: 'aaa' }, { id: 1, text: 'bbb' }, { id: 2, text: 'ccc' }];
		$('#category').select2({
				data: data,
				placeholder: "请选择",
				//multiple: true, //设置多选
				allowClear:true,//允许清除选项
				language: "zh-CN",//汉化
		});
		$('#tag').select2({
			data: data,
			placeholder: "请选择",
			multiple: true, //设置多选
			allowClear:true,//允许清除选项
			language: "zh-CN",//汉化
		});
		console.log("121121321231321321321321321");
		console.log("121121321231321321321321321");
		console.log("121121321231321321321321321");
		console.log("121121321231321321321321321");
	});
</script>
{% endblock %}


